<!DOCTYPE html>
<html>
  <head>
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
    <script src="https://unpkg.com/super-hands@^3.0.3/dist/super-hands.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/n5ro/aframe-physics-system@59100ac/dist/aframe-physics-system.js"></script>
    <script src="https://unpkg.com/aframe-physics-extras/dist/aframe-physics-extras.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@^4.1.1/dist/aframe-event-set-component.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.3.1/dist/aframe-environment-component.min.js"></script>
  </head>
  <body>
    <a-scene background="color: #ECECEC" stats2
    physics="gravity: 0"
    >
        <a-assets>
          <a-asset-item id="iris" src="iris.gltf"></a-asset-item>
          <!-- <a-asset-item id="CH" src="CH-color.gltf"></a-asset-item> -->
          <!-- <a-asset-item id="PLZ" src="PLZ.gltf"></a-asset-item> -->
          <!-- <a-asset-item id="gapminder" src="gapminder-animated-label.gltf"></a-asset-item> -->
          <!-- <a-asset-item id="lorenz" src="lorenz.gltf"></a-asset-item> -->
          <!-- <a-asset-item id="d-one-team" src="d-one-team.gltf"></a-asset-item> -->
          <a-mixin id="hand-controller"
              physics-collider="ignoreSleep: true"
              collision-filter="collisionForces: false"
              static-body="shape: sphere; sphereRadius: 0.02"
              super-hands="colliderEvent: collisions;
                          colliderEventProperty: els;
                          colliderEndEvent: collisions;
                          colliderEndEventProperty: clearedEls;
                          grabStartButtons: gripdown;
                          grabEndButtons: gripup;
                          stretchStartButtons: gripdown;
                          stretchEndButtons: gripup;
                          "
              ></a-mixin>
                          <!-- grabStartButtons: ['gripdown', 'triggerdown', 'thumbstickdown', 'pinchstarted'];
                          grabEndButtons: ['gripup', 'triggerup', 'thumbstickup', 'pinchended'];" -->
              <a-mixin id="grabbable-component"
              dynamic-body="shape: box; mass: 10000"
              collision-filter="collisionForces: false"
              sleepy
              stretchable
              grabbable
              grabbable2="startButtons: ['gripdown']; endButtons: ['gripup']"
            ></a-mixin>

        </a-assets>
        <a-entity environment="preset: japan; groundColor: #f0e9fb" hide-on-enter-ar id="environment"></a-entity>
        
        <a-entity>
            <a-camera id="camera"
            ></a-camera>
            <a-entity hand-controls="hand: left" mixin="hand-controller"></a-entity>
            <a-entity hand-controls="hand: right" mixin="hand-controller" ></a-entity>
        </a-entity>
        <a-entity id="models_group" position="0 0.5 -0.8">
            <a-entity gltf-model="https://cdn.glitch.global/02a4d53e-017b-465d-b7c6-c00dca4ea2f9/zrh.glb" position="-0.5 0.5 0.2" scale="2.5 2.5 2.5" title="CH Surface" mixin="grabbable-component"></a-entity>
            <a-entity gltf-model="#iris" position="0 0.5 0" scale="2 2 2" title="Iris Plot" mixin="grabbable-component"></a-entity>
            <!-- <a-entity gltf-model="#PLZ" position="-1 0.5 0" scale=".1 .1 .1" title="Plot" mixin="grabbable-component"></a-entity> -->
            <a-entity gltf-model="gapminder-animated-label.gltf" position="0.5 0.5 0" scale="2 2 2" title="Gapminder Plot" mixin="grabbable-component" animation-mixer></a-entity>
            <a-entity gltf-model="lorenz.gltf" position="0.5 0.25 0.5" scale="1 1 1" title="Lorenz" mixin="grabbable-component"></a-entity>
            <!-- <a-entity gltf-model="#d-one-team" position="2 0.5 0" scale="5 5 5" title="Plot" mixin="grabbable-component"></a-entity> -->
              <!-- animation-mixer -->
        </a-entity>
    </a-scene>
  </body>
  <script>
    // let scene = document.getElementsByName
    var playerEl = document.querySelector('#model');
    // playerEl.addEventListener('collide', function (e) {
    //   console.log('model has collided with body #' + e.detail.id);
    //   console.log(e.detail.body);
    // });
    // playerEl.addEventListener("mousedown", function(e){
    //   console.log("mousedown model"); console.log(e)
    // })

    // document.querySelectorAll('[hand-controls]').forEach(el => {
    //   let events = ['gripdown','gripup','triggerdown','triggerup',];
    //   for (let i=0; i<events.length; i++)
    //     el.addEventListener(events[i], function(e){
    //       console.log('hand-event',events[i], e)
          
    //     })
    // })
</script>

</html>
